<!DOCTYPE html>
<html>
<head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>

  <meta charset="utf-8">
  <title>JS Bin</title>
 </head>
<body>
<svg> 
</svg>


<script >
// var dataForChart=[150,100,50,140,130,140,150];
var dataForChart=[15,10,5,14,13,14,15];
var scale= d3.scale.linear().domain([10,75]).range([100,900]);
scale(100);
scale(900);
scale(500);
console.log(scale(100));

var color= d3.scale.linear().domain([d3.min(dataForChart),d3.max(dataForChart)]).range(["green","red"])
var svg=d3.select('svg').attr('fill','blue');
var chart = svg.selectAll('rect')
.data(dataForChart).enter()
.append('rect')
.attr('y',function(value,index){ return index*30 })
.attr('width',function(val){ return  scale(val)})
.attr('height',25)
.attr('fill',function(d) { return color(d)});
</script>
</body>
</html>